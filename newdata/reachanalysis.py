#!/usr/bin/env python3# -*- coding: utf-8 -*-"""@author: aspence"""# %% importsimport matplotlib.pyplot as pltimport pandas as pdidx = pd.IndexSliceplt.rc('legend',fontsize=6)plt.rc('axes.titlesize',fontsize=6)# %% load file and metadata databasemd=pd.read_csv('reachfiles.csv')fn='Rupert_week2_cam2_Inhibitory Rat 5_2021-08-10_11_28_34_fr_wbgam_h264_nearlossless_safeDLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000.csv'# %% function that loads and plots one filedef plotreachkinfile(fn,xwall):  df=pd.read_csv(fn,index_col=0,header=[0,1,2])  # plot the x coords and  # get x and y coordinates  xco = df.loc[:,idx[:,:,'x']]  yco = df.loc[:,idx[:,:,'y']]  # plot it up:  fig, axes = plt.subplots(nrows=2, ncols=1)  xco.plot(ax=axes[0])  yco.plot(ax=axes[1])  fig.suptitle(fn,fontsize=4)  axes[0].set_ylabel('x coord')  axes[1].set_xlabel('frame')  axes[1].set_ylabel('y coord')  # save it  axes[0].axhline(xwall)  fig.savefig(fn.split('.')[0]+'.png')  plt.show()plotreachkinfile(fn,md.loc[0,'plexi_x'])for ind in range(len(md)):  plotreachkinfile(md.loc[ind,'file'],md.loc[ind,'plexi_x'])inhibitoryshoulderx = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'shoulder','x']]inhibitoryshouldery = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'shoulder','y']]    inhibitoryelbowx = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'elbow','x']]    inhibitoryelbowy = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'elbow','y']]    inhibitorywristx = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'wrist','x']]    inhibitorywristy = inhib.loc[:,idx['DLC_resnet50_Rupert Reaching Videos_sampleOct3shuffle1_200000', \             'wrist','y']]    #make them into one pandas dataframe plsinhibitoryresults = pd.concat([inhibitoryshoulderx, inhibitoryshouldery, inhibitoryelbowx, inhibitoryelbowy, inhibitorywristx, inhibitorywristy],axis = 1, join='inner')inhibitoryresults.columns = ['inhibshoulderx','inhibshouldery','inhibelbowx','inhibelbowy','inhibwristx','inhibwristy']display(inhibitoryresults)plt.figure(1)plt.clf()plt.scatter(inhibitoryshoulderx,inhibitoryshouldery,label = "Inhib Shoulder",s=5)plt.scatter(inhibitoryelbowx,inhibitoryelbowy,label = "Inhib Elbow",s=5)plt.scatter(inhibitorywristx,inhibitorywristy,label = "Inhib Wrist",s=5)plt.title("Inhibitory Rat")plt.legend(loc = 2)